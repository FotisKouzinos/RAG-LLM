# Base image from Ollama
FROM ollama/ollama:latest

# Install necessary tools if needed
USER root

# Expose Ollama port
EXPOSE 11434

# Start Ollama server
ENTRYPOINT /bin/sh -c "\
    echo 'ðŸš€ Starting Ollama server...' && \
    ollama serve & \
    sleep 5 && \
    echo 'ðŸš€ Pulling llama3 model...' && \
    ollama pull llama3 && \
    echo 'âœ… llama3 model pulled successfully!' && \
    echo 'ðŸš€ Pulling nomic-embed-text model...' && \
    ollama pull nomic-embed-text && \
    echo 'âœ… nomic-embed-text model pulled successfully!' && \
    wait"
